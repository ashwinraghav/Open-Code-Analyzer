<h3>Code metrics for this submission</h3>

<% @metrics.each do |processed_metric| %>
    <div><%= processed_metric.long_name %> : <%= processed_metric.value %></div>
<% end %>


<h3>Prediction</h3>

<% @prediction.each do |name, probability| %>
    <div><%= name.to_s.humanize %> : <%= probability %></div>
<% end %>

<h3>Training Sets</h3>

<% result = {}
   @training_sets.each do |training_data_set|
       training_data_set.metrics.entries.each do |name, metric|
           (result[name] ||= []) << metric.mean
           result[name] << metric.sample_variance
       end
   end %>

<table border="1px" bgcolor="ffffff" cellpadding="5px" cellspacing="0px">
  <thead>
  <th></th>
  <% @training_sets.map(& :name).each do |name| %>
      <th colspan="2"><%= name %></th>
  <% end %>
  </thead>
  <tbody align="center">
  <tr>
    <td></td>
    <td>Mean</td>
    <td>Variance</td>
    <td>Mean</td>
    <td>Variance</td>
    <td>Mean</td>
    <td>Variance</td>
  </tr>
    <% result.each do |name, values| %>
      <tr>
      <td><%= name.humanize %></td>
        <% values.each do |value| %>

            <td><%= value %></td>
        <% end %>
        </tr>
  <% end %>
  </tbody>
</table>